<div class="card bg-dark shadow-sm mb-3 text-light">
    <div class="card-header">
        <div class="row align-items-center">
            <div class="col-auto">
                <!-- TODO: Update avatar src with user avatar URL after merging feature/avatar -->
                <img src="https://placehold.co/32x32.png" alt="{{ post.author }} avatar image" class="rounded-circle" style="width: 32px; height: 32px;">
            </div>
            <div class="col">
                <div class="d-flex flex-column">
                    <!-- TODO: Update links to user public profile and community upon feature released -->
                    <div>
                        <a href="#" class="link-primary link-offset-2 link-underline-opacity-0 link-underline-opacity-25-hover">r/{{ post.community }}</a> â€¢ <small class="text-secondary">{{ post.created_at|timesince }} ago</small>
                    </div>
                    <div>
                        <a href="#" class="link-light link-offset-2 link-underline-opacity-0 link-opacity-75-hover link-underline-opacity-25-hover">{{ post.author }}</a>
                    </div>
                </div>
            </div>
            <div class="col-auto ms-auto">
                <div class="dropdown bg-dark">
                    <a class="btn btn-dark" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                        <i class="bi bi-three-dots"></i>
                    </a>
                      <ul class="dropdown-menu dropdown-menu-dark">
                          <!-- TODO: Update links with User features -->
                        <li><a class="dropdown-item" href="#"><i class="bi bi-bookmark"></i> Save</a></li>
                        <li><a class="dropdown-item" href="#"><i class="bi bi-eye-slash"></i> Hide</a></li>
                        <li><a class="dropdown-item" href="#"><i class="bi bi-flag"></i> Report</a></li>
                          {% if post.author == request.user %}
                            <li><a class="dropdown-item" href="#"><i class="bi bi-pencil-square"></i> Edit</a></li>
                          {% endif %}
                      </ul>
                </div>
            </div>
        </div>
    </div>
    <div class="card-body">
        <h3 class="h3">{{ post.title }}</h3>
        {{ post.content }}
        <!-- TODO: add post image handling -->
    </div>
    <div class="card-footer">
        <!-- TODO: Fix buttons for award and share upon specific feature merged -->
        <div class="btn-toolbar" role="toolbar" aria-label="Post toolbar">
            <div class="btn-group me-2">
                <form method="post" action="{% url 'post-vote' post.id 'up' %}?next={{ request.path }}">
                    {% csrf_token %}
                    <button type="submit" class="btn btn-secondary up-vote btn-left-circular btn-sm btn-secondary-dark"><i class="bi bi-arrow-up-circle"></i></button>
                </form>
                <button type=button class="btn btn-secondary btn-sm btn-secondary-dark" disabled>{{ post.score }}</button>
                <form method="post" action="{% url 'post-vote' post.id 'down' %}?next={{ request.path }}">
                    {% csrf_token %}
                    <button type="submit" class="btn btn-secondary down-vote btn-right-circular btn-sm btn-secondary-dark"><i class="bi bi-arrow-down-circle"></i></button>
                </form>
            </div>
            <div class="btn-group btn-circular me-2">
               <a href="#" class="btn btn-secondary btn-circular btn-sm btn-secondary-dark"><i class="bi bi-chat-square-text"></i> {{ post.children_count }}</a>
            </div>
            <div class="btn-group btn-circular me-2">
               <a href="#" class="btn btn-secondary btn-circular btn-sm btn-secondary-dark"><i class="bi bi-award"></i></a>
            </div>
            <div class="btn-group btn-circular me-2">
               <a href="#" class="btn btn-secondary btn-circular btn-sm btn-secondary-dark"><i class="bi bi-share"></i></a>
            </div>
        </div>
    </div>
</div>
